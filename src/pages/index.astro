---
import Layout from "../layouts/Layout.astro";
import { Navigation } from "../components/navigation/Navigation";
import { HomePage } from "../components/HomePage";

// Check if user is logged in - if yes, redirect to dashboard
const { user } = Astro.locals;

// Zalogowany u≈ºytkownik? Przekieruj do dashboard zgodnie z US-001, US-002
if (user) {
  return Astro.redirect("/dashboard");
}

const currentPath = Astro.url.pathname;
---

<Layout title="10xCards - Inteligentne fiszki z AI">
  <Navigation user={user} currentPath={currentPath} client:load />
  <HomePage user={user} client:load />
</Layout>
